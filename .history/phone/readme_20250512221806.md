# 国内空号生成工具

一个高效、准确的空号生成工具，能够批量生成随机且唯一的国内手机空号，供各类测试和开发场景使用。

## 空号定义

**空号**是指符合电话号码格式规则，但拨打时无法接通的电话号码。空号主要包括以下几种情况：

- 未被运营商分配给用户的号码
- 曾经分配但已经被注销/收回的号码
- 运营商保留但未投入使用的号码段

本工具旨在生成这类电话号码，用于系统测试、应用开发等场景，避免拨打真实用户号码带来的打扰。

## 功能特点

- **随机生成**：生成符合中国大陆手机号码格式的电话号码，保证随机性
- **空号判定**：基于运营商号段规则、API 查询等多种方式，尽可能确保生成的号码为真正的"空号"
- **唯一性**：生成的号码不重复
- **多运营商支持**：支持中国移动、中国联通、中国电信
- **批量生成**：支持一次性生成大量空号
- **灵活配置**：支持指定前缀、特殊号码模式等
- **多种导出格式**：支持 TXT、CSV、Excel、JSON 等
- **命令行和 Web 界面**：提供多种使用方式

## 空号生成策略

为确保生成的号码为真正的"空号"（拨打不通），本工具采用以下多重策略：

1. **号段筛选**：基于最新的运营商号段分配信息，优先选择未分配号段
2. **号码状态检测**：可选集成第三方号码状态 API，验证号码是否为空号
3. **历史数据分析**：利用历史空号数据和模式，预测可能的空号区间
4. **规避活跃号段**：避开常用号段和近期新分配的号段
5. **概率模型**：基于号码使用规律，采用概率模型生成高可能性空号

## 安装

### 依赖环境

- Python 3.8 或更高版本
- 依赖包：flask, pandas, openpyxl（用于 Web 模式和导出功能）
- 可选：requests（用于集成第三方空号检测 API）

### 安装步骤

1. 克隆或下载本项目到本地
2. 安装依赖包：

```bash
cd phone
pip install -r requirements.txt
```

## 使用方法

本工具提供两种使用方式：命令行模式和 Web 界面模式。

### 命令行模式

直接运行 `phone_generator.py` 或使用 `run.py cli` 命令：

```bash
# 基本使用（生成10个随机空号）
python phone_generator.py

# 指定参数
python phone_generator.py --count 100 --operator mobile --output csv

# 或者通过run.py使用
python run.py cli --count 50 --operator unicom --prefix 130 --output json
```

可用参数说明：

- `--count`：生成的空号数量（默认：10）
- `--operator`：运营商类型，可选 all（全部）、mobile（移动）、unicom（联通）、telecom（电信）（默认：all）
- `--prefix`：指定号码前缀，如 138
- `--pattern`：特殊号码模式，JSON 格式，如 '{"tail":"8888","exclude":["4"]}'
- `--output`：输出格式，可选 text、csv、json（默认：text）
- `--path`：输出文件路径（默认自动生成）
- `--verify`：启用空号验证（可选，需配置 API 密钥）

### Web 界面模式

启动 Web 应用：

```bash
python run.py web
```

然后在浏览器中访问 http://localhost:5000

Web 界面参数：

- `--host`：监听地址（默认：0.0.0.0）
- `--port`：监听端口（默认：5000）
- `--debug`：启用调试模式（可选）

## Web 界面功能说明

Web 界面提供了更加直观的操作方式，主要功能包括：

1. **参数设置**：设置生成数量、运营商、前缀、特殊要求等参数
2. **号码生成**：点击"开始生成"按钮生成空号
3. **结果展示**：以表格形式展示生成的空号列表
4. **导出功能**：支持 CSV、Excel、JSON 等多种格式导出
5. **复制功能**：一键复制所有生成的号码
6. **历史记录**：记录历史生成操作
7. **空号验证**：提供可选的空号验证功能，提高准确率

## 空号验证选项

本工具提供以下空号验证选项：

1. **基础模式**（默认）：仅基于号段规则和概率模型生成空号，准确率约 75-85%
2. **标准模式**：基础模式基础上增加历史数据分析和号段活跃度分析，准确率约 85-95%
3. **高级模式**：集成第三方 API 进行实时验证，准确率可达 95%以上（需配置 API 密钥，可能产生额外费用）

## 注意事项

- 本工具生成的号码仅供系统测试、开发学习等合法用途
- 即使使用高级模式，仍无法 100%保证所有生成的号码为空号，建议在封闭测试环境中使用
- 严禁将本工具用于骚扰电话、诈骗等违法行为
- 生成大量号码可能需要较长时间，特别是启用验证模式时
- 使用第三方 API 验证时可能产生额外费用，请关注相关服务商的计费政策

## 技术实现

- **核心引擎**：Python 实现的空号生成和验证算法
- **Web 框架**：Flask
- **前端界面**：Bootstrap 5 + 原生 JavaScript
- **数据导出**：Pandas + openpyxl
- **空号验证**：多种策略结合，可选集成第三方 API

## 运行示例

### 命令行模式示例输出

```
开始生成 10 个空号...
[验证模式: 基础模式]
成功生成 10 个空号，耗时 0.15 秒
结果已保存至: phone_numbers_20230615_123045.text

示例号码:
1. 13578901234 (移动) - 预计空号概率: 95%
2. 15512345678 (移动) - 预计空号概率: 92%
3. 18609876543 (联通) - 预计空号概率: 98%
4. 13312345678 (电信) - 预计空号概率: 97%
5. 17712345678 (电信) - 预计空号概率: 93%
... 等共 10 个号码
```

## 版本历史

- v1.0.0 (2023-06-15): 初始版本，基本功能实现
- v1.1.0 (2023-08-20): 增强空号判定策略，提高准确率

## 未来计划

- 支持国际电话号码格式
- 增加更多空号验证方式
- 优化空号判定准确率
- 支持更多号码类型（如固定电话、虚拟运营商等）
- 增加批量验证已有号码功能

## 许可协议

本项目采用 MIT 许可协议。详见 LICENSE 文件。
